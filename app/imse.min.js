var ImageSearchApp=angular.module("ImageSearchApp",["ngRoute","ngAnimate","wu.masonry","ui.slider"]);ImageSearchApp.config(["$routeProvider",function(a){a.when("/search",{templateUrl:"app/views/search.html",controller:"SearchController"}).when("/palette",{templateUrl:"app/views/palette.html",controller:"PaletteController"}).when("/search-future",{templateUrl:"app/views/search_future.html",controller:"SearchFutureController"}).otherwise({redirectTo:"/palette"})}]),ImageSearchApp.service("API",["$http",function(a){var b={};return b.send_palatte=function(b){var c=function(){};return a({method:"POST",url:"/palette",data:angular.toJson(b)}).success(function(){c()}),{done:function(a){c=a}}},b.search=function(){var b=function(){};return a({method:"GET",url:"/search"}).success(function(a){b(a)}),{done:function(a){b=a}}},b.next=function(b){var c=function(){};return a({method:"POST",url:"/next",data:angular.toJson(b)}).success(function(a){c(a)}),{done:function(a){c=a}}},b.future=function(b){var c=function(){};return a({method:"POST",url:"/future",data:angular.toJson(b)}).success(function(a){c(a)}),{done:function(a){c=a}}},b}]),ImageSearchApp.directive("paletteItem",function(){return{scope:{color:"@"},link:function(a,b){b.css("background-color",a.color),b.css({height:b.width()+"px","padding-top":b.width()/2-15+"px"}),$(window).resize(function(){b.css({height:b.width()+"px"}),b.css({height:b.width()+"px","padding-top":b.width()/2-15+"px"})})}}}),ImageSearchApp.directive("resizable",function(){return{scope:{neighbor:"@",parent:"@"},link:function(a,b){$(b).resizable({handles:"e",resize:function(){var c=$(a.parent).width()-$(b).width();$(a.neighbor).css("width",c+"px")}})}}}),ImageSearchApp.directive("tooltip",function(){return{link:function(a,b){$(b).tooltip()}}}),ImageSearchApp.controller("MainController",["$scope",function(a){a.palette=[]}]),ImageSearchApp.controller("PaletteController",["$scope","$location","API",function(a,b){a.colors=angular.fromJson('[{"hex":"#FBEFEF","selected":false},{"hex":"#FBF2EF","selected":false},{"hex":"#FBF5EF","selected":false},{"hex":"#FBF8EF","selected":false},{"hex":"#FBFBEF","selected":false},{"hex":"#F8FBEF","selected":false},{"hex":"#F5FBEF","selected":false},{"hex":"#F2FBEF","selected":false},{"hex":"#EFFBEF","selected":false},{"hex":"#EFFBF2","selected":false},{"hex":"#EFFBF5","selected":false},{"hex":"#EFFBF8","selected":false},{"hex":"#EFFBFB","selected":false},{"hex":"#EFF8FB","selected":false},{"hex":"#EFF5FB","selected":false},{"hex":"#EFF2FB","selected":false},{"hex":"#EFEFFB","selected":false},{"hex":"#F2EFFB","selected":false},{"hex":"#F5EFFB","selected":false},{"hex":"#F8EFFB","selected":false},{"hex":"#FBEFFB","selected":false},{"hex":"#FBEFF8","selected":false},{"hex":"#FBEFF5","selected":false},{"hex":"#FBEFF2","selected":false},{"hex":"#FFFFFF","selected":false},{"hex":"#F8E0E0","selected":false},{"hex":"#F8E6E0","selected":false},{"hex":"#F8ECE0","selected":false},{"hex":"#F7F2E0","selected":false},{"hex":"#F7F8E0","selected":false},{"hex":"#F1F8E0","selected":false},{"hex":"#ECF8E0","selected":false},{"hex":"#E6F8E0","selected":false},{"hex":"#E0F8E0","selected":false},{"hex":"#E0F8E6","selected":false},{"hex":"#E0F8EC","selected":false},{"hex":"#E0F8F1","selected":false},{"hex":"#E0F8F7","selected":false},{"hex":"#E0F2F7","selected":false},{"hex":"#E0ECF8","selected":false},{"hex":"#E0E6F8","selected":false},{"hex":"#E0E0F8","selected":false},{"hex":"#E6E0F8","selected":false},{"hex":"#ECE0F8","selected":false},{"hex":"#F2E0F7","selected":false},{"hex":"#F8E0F7","selected":false},{"hex":"#F8E0F1","selected":false},{"hex":"#F8E0EC","selected":false},{"hex":"#F8E0E6","selected":false},{"hex":"#FAFAFA","selected":false},{"hex":"#F6CECE","selected":false},{"hex":"#F6D8CE","selected":false},{"hex":"#F6E3CE","selected":false},{"hex":"#F5ECCE","selected":false},{"hex":"#F5F6CE","selected":false},{"hex":"#ECF6CE","selected":false},{"hex":"#E3F6CE","selected":false},{"hex":"#D8F6CE","selected":false},{"hex":"#CEF6CE","selected":false},{"hex":"#CEF6D8","selected":false},{"hex":"#CEF6E3","selected":false},{"hex":"#CEF6EC","selected":false},{"hex":"#CEF6F5","selected":false},{"hex":"#CEECF5","selected":false},{"hex":"#CEE3F6","selected":false},{"hex":"#CED8F6","selected":false},{"hex":"#CECEF6","selected":false},{"hex":"#D8CEF6","selected":false},{"hex":"#E3CEF6","selected":false},{"hex":"#ECCEF5","selected":false},{"hex":"#F6CEF5","selected":false},{"hex":"#F6CEEC","selected":false},{"hex":"#F6CEE3","selected":false},{"hex":"#F6CED8","selected":false},{"hex":"#F2F2F2","selected":false},{"hex":"#F5A9A9","selected":false},{"hex":"#F5BCA9","selected":false},{"hex":"#F5D0A9","selected":false},{"hex":"#F3E2A9","selected":false},{"hex":"#F2F5A9","selected":false},{"hex":"#E1F5A9","selected":false},{"hex":"#D0F5A9","selected":false},{"hex":"#BCF5A9","selected":false},{"hex":"#A9F5A9","selected":false},{"hex":"#A9F5BC","selected":false},{"hex":"#A9F5D0","selected":false},{"hex":"#A9F5E1","selected":false},{"hex":"#A9F5F2","selected":false},{"hex":"#A9E2F3","selected":false},{"hex":"#A9D0F5","selected":false},{"hex":"#A9BCF5","selected":false},{"hex":"#A9A9F5","selected":false},{"hex":"#BCA9F5","selected":false},{"hex":"#D0A9F5","selected":false},{"hex":"#E2A9F3","selected":false},{"hex":"#F5A9F2","selected":false},{"hex":"#F5A9E1","selected":false},{"hex":"#F5A9D0","selected":false},{"hex":"#F5A9BC","selected":false},{"hex":"#E6E6E6","selected":false},{"hex":"#F78181","selected":false},{"hex":"#F79F81","selected":false},{"hex":"#F7BE81","selected":false},{"hex":"#F5DA81","selected":false},{"hex":"#F3F781","selected":false},{"hex":"#D8F781","selected":false},{"hex":"#BEF781","selected":false},{"hex":"#9FF781","selected":false},{"hex":"#81F781","selected":false},{"hex":"#81F79F","selected":false},{"hex":"#81F7BE","selected":false},{"hex":"#81F7D8","selected":false},{"hex":"#81F7F3","selected":false},{"hex":"#81DAF5","selected":false},{"hex":"#81BEF7","selected":false},{"hex":"#819FF7","selected":false},{"hex":"#8181F7","selected":false},{"hex":"#9F81F7","selected":false},{"hex":"#BE81F7","selected":false},{"hex":"#DA81F5","selected":false},{"hex":"#F781F3","selected":false},{"hex":"#F781D8","selected":false},{"hex":"#F781BE","selected":false},{"hex":"#F7819F","selected":false},{"hex":"#D8D8D8","selected":false},{"hex":"#FA5858","selected":false},{"hex":"#FA8258","selected":false},{"hex":"#FAAC58","selected":false},{"hex":"#F7D358","selected":false},{"hex":"#F4FA58","selected":false},{"hex":"#D0FA58","selected":false},{"hex":"#ACFA58","selected":false},{"hex":"#82FA58","selected":false},{"hex":"#58FA58","selected":false},{"hex":"#58FA82","selected":false},{"hex":"#58FAAC","selected":false},{"hex":"#58FAD0","selected":false},{"hex":"#58FAF4","selected":false},{"hex":"#58D3F7","selected":false},{"hex":"#58ACFA","selected":false},{"hex":"#5882FA","selected":false},{"hex":"#5858FA","selected":false},{"hex":"#8258FA","selected":false},{"hex":"#AC58FA","selected":false},{"hex":"#D358F7","selected":false},{"hex":"#FA58F4","selected":false},{"hex":"#FA58D0","selected":false},{"hex":"#FA58AC","selected":false},{"hex":"#FA5882","selected":false},{"hex":"#BDBDBD","selected":false},{"hex":"#FE2E2E","selected":false},{"hex":"#FE642E","selected":false},{"hex":"#FE9A2E","selected":false},{"hex":"#FACC2E","selected":false},{"hex":"#F7FE2E","selected":false},{"hex":"#C8FE2E","selected":false},{"hex":"#9AFE2E","selected":false},{"hex":"#64FE2E","selected":false},{"hex":"#2EFE2E","selected":false},{"hex":"#2EFE64","selected":false},{"hex":"#2EFE9A","selected":false},{"hex":"#2EFEC8","selected":false},{"hex":"#2EFEF7","selected":false},{"hex":"#2ECCFA","selected":false},{"hex":"#2E9AFE","selected":false},{"hex":"#2E64FE","selected":false},{"hex":"#2E2EFE","selected":false},{"hex":"#642EFE","selected":false},{"hex":"#9A2EFE","selected":false},{"hex":"#CC2EFA","selected":false},{"hex":"#FE2EF7","selected":false},{"hex":"#FE2EC8","selected":false},{"hex":"#FE2E9A","selected":false},{"hex":"#FE2E64","selected":false},{"hex":"#A4A4A4","selected":false},{"hex":"#FF0000","selected":false},{"hex":"#FF4000","selected":false},{"hex":"#FF8000","selected":false},{"hex":"#FFBF00","selected":false},{"hex":"#FFFF00","selected":false},{"hex":"#BFFF00","selected":false},{"hex":"#80FF00","selected":false},{"hex":"#40FF00","selected":false},{"hex":"#00FF00","selected":false},{"hex":"#00FF40","selected":false},{"hex":"#00FF80","selected":false},{"hex":"#00FFBF","selected":false},{"hex":"#00FFFF","selected":false},{"hex":"#00BFFF","selected":false},{"hex":"#0080FF","selected":false},{"hex":"#0040FF","selected":false},{"hex":"#0000FF","selected":false},{"hex":"#4000FF","selected":false},{"hex":"#8000FF","selected":false},{"hex":"#BF00FF","selected":false},{"hex":"#FF00FF","selected":false},{"hex":"#FF00BF","selected":false},{"hex":"#FF0080","selected":false},{"hex":"#FF0040","selected":false},{"hex":"#848484","selected":false},{"hex":"#DF0101","selected":false},{"hex":"#DF3A01","selected":false},{"hex":"#DF7401","selected":false},{"hex":"#DBA901","selected":false},{"hex":"#D7DF01","selected":false},{"hex":"#A5DF00","selected":false},{"hex":"#74DF00","selected":false},{"hex":"#3ADF00","selected":false},{"hex":"#01DF01","selected":false},{"hex":"#01DF3A","selected":false},{"hex":"#01DF74","selected":false},{"hex":"#01DFA5","selected":false},{"hex":"#01DFD7","selected":false},{"hex":"#01A9DB","selected":false},{"hex":"#0174DF","selected":false},{"hex":"#013ADF","selected":false},{"hex":"#0101DF","selected":false},{"hex":"#3A01DF","selected":false},{"hex":"#7401DF","selected":false},{"hex":"#A901DB","selected":false},{"hex":"#DF01D7","selected":false},{"hex":"#DF01A5","selected":false},{"hex":"#DF0174","selected":false},{"hex":"#DF013A","selected":false},{"hex":"#6E6E6E","selected":false},{"hex":"#B40404","selected":false},{"hex":"#B43104","selected":false},{"hex":"#B45F04","selected":false},{"hex":"#B18904","selected":false},{"hex":"#AEB404","selected":false},{"hex":"#86B404","selected":false},{"hex":"#5FB404","selected":false},{"hex":"#31B404","selected":false},{"hex":"#04B404","selected":false},{"hex":"#04B431","selected":false},{"hex":"#04B45F","selected":false},{"hex":"#04B486","selected":false},{"hex":"#04B4AE","selected":false},{"hex":"#0489B1","selected":false},{"hex":"#045FB4","selected":false},{"hex":"#0431B4","selected":false},{"hex":"#0404B4","selected":false},{"hex":"#3104B4","selected":false},{"hex":"#5F04B4","selected":false},{"hex":"#8904B1","selected":false},{"hex":"#B404AE","selected":false},{"hex":"#B40486","selected":false},{"hex":"#B4045F","selected":false},{"hex":"#B40431","selected":false},{"hex":"#585858","selected":false},{"hex":"#8A0808","selected":false},{"hex":"#8A2908","selected":false},{"hex":"#8A4B08","selected":false},{"hex":"#886A08","selected":false},{"hex":"#868A08","selected":false},{"hex":"#688A08","selected":false},{"hex":"#4B8A08","selected":false},{"hex":"#298A08","selected":false},{"hex":"#088A08","selected":false},{"hex":"#088A29","selected":false},{"hex":"#088A4B","selected":false},{"hex":"#088A68","selected":false},{"hex":"#088A85","selected":false},{"hex":"#086A87","selected":false},{"hex":"#084B8A","selected":false},{"hex":"#08298A","selected":false},{"hex":"#08088A","selected":false},{"hex":"#29088A","selected":false},{"hex":"#4B088A","selected":false},{"hex":"#6A0888","selected":false},{"hex":"#8A0886","selected":false},{"hex":"#8A0868","selected":false},{"hex":"#8A084B","selected":false},{"hex":"#8A0829","selected":false},{"hex":"#424242","selected":false},{"hex":"#610B0B","selected":false},{"hex":"#61210B","selected":false},{"hex":"#61380B","selected":false},{"hex":"#5F4C0B","selected":false},{"hex":"#5E610B","selected":false},{"hex":"#4B610B","selected":false},{"hex":"#38610B","selected":false},{"hex":"#21610B","selected":false},{"hex":"#0B610B","selected":false},{"hex":"#0B6121","selected":false},{"hex":"#0B6138","selected":false},{"hex":"#0B614B","selected":false},{"hex":"#0B615E","selected":false},{"hex":"#0B4C5F","selected":false},{"hex":"#0B3861","selected":false},{"hex":"#0B2161","selected":false},{"hex":"#0B0B61","selected":false},{"hex":"#210B61","selected":false},{"hex":"#380B61","selected":false},{"hex":"#4C0B5F","selected":false},{"hex":"#610B5E","selected":false},{"hex":"#610B4B","selected":false},{"hex":"#610B38","selected":false},{"hex":"#610B21","selected":false},{"hex":"#2E2E2E","selected":false},{"hex":"#3B0B0B","selected":false},{"hex":"#3B170B","selected":false},{"hex":"#3B240B","selected":false},{"hex":"#3A2F0B","selected":false},{"hex":"#393B0B","selected":false},{"hex":"#2E3B0B","selected":false},{"hex":"#243B0B","selected":false},{"hex":"#173B0B","selected":false},{"hex":"#0B3B0B","selected":false},{"hex":"#0B3B17","selected":false},{"hex":"#0B3B24","selected":false},{"hex":"#0B3B2E","selected":false},{"hex":"#0B3B39","selected":false},{"hex":"#0B2F3A","selected":false},{"hex":"#0B243B","selected":false},{"hex":"#0B173B","selected":false},{"hex":"#0B0B3B","selected":false},{"hex":"#170B3B","selected":false},{"hex":"#240B3B","selected":false},{"hex":"#2F0B3A","selected":false},{"hex":"#3B0B39","selected":false},{"hex":"#3B0B2E","selected":false},{"hex":"#3B0B24","selected":false},{"hex":"#3B0B17","selected":false},{"hex":"#1C1C1C","selected":false},{"hex":"#2A0A0A","selected":false},{"hex":"#2A120A","selected":false},{"hex":"#2A1B0A","selected":false},{"hex":"#29220A","selected":false},{"hex":"#292A0A","selected":false},{"hex":"#222A0A","selected":false},{"hex":"#1B2A0A","selected":false},{"hex":"#122A0A","selected":false},{"hex":"#0A2A0A","selected":false},{"hex":"#0A2A12","selected":false},{"hex":"#0A2A1B","selected":false},{"hex":"#0A2A22","selected":false},{"hex":"#0A2A29","selected":false},{"hex":"#0A2229","selected":false},{"hex":"#0A1B2A","selected":false},{"hex":"#0A122A","selected":false},{"hex":"#0A0A2A","selected":false},{"hex":"#120A2A","selected":false},{"hex":"#1B0A2A","selected":false},{"hex":"#220A29","selected":false},{"hex":"#2A0A29","selected":false},{"hex":"#2A0A22","selected":false},{"hex":"#2A0A1B","selected":false},{"hex":"#2A0A12","selected":false},{"hex":"#151515","selected":false},{"hex":"#190707","selected":false},{"hex":"#190B07","selected":false},{"hex":"#191007","selected":false},{"hex":"#181407","selected":false},{"hex":"#181907","selected":false},{"hex":"#141907","selected":false},{"hex":"#101907","selected":false},{"hex":"#0B1907","selected":false},{"hex":"#071907","selected":false},{"hex":"#07190B","selected":false},{"hex":"#071910","selected":false},{"hex":"#071914","selected":false},{"hex":"#071918","selected":false},{"hex":"#071418","selected":false},{"hex":"#071019","selected":false},{"hex":"#070B19","selected":false},{"hex":"#070719","selected":false},{"hex":"#0B0719","selected":false},{"hex":"#100719","selected":false},{"hex":"#140718","selected":false},{"hex":"#190718","selected":false},{"hex":"#190714","selected":false},{"hex":"#190710","selected":false},{"hex":"#19070B","selected":false},{"hex":"#000000","selected":false}]'),a.palette_size=180,a.increase_palette_size=function(){a.palette_size+=180},a.toggle_selection=function(a){a.selected=!a.selected},a.choose_palette=function(){a.$parent.palette=$.grep(a.colors,function(a){return a.selected}),b.path("/search")}}]),ImageSearchApp.controller("SearchController",["$scope","$timeout","API",function(a,b){function c(){b(function(){for(var b=[],c=0;10>c;c++)b.push({src:"img/"+Math.round(Math.ceil(5*Math.random()))+".jpg",importance:Math.round(10*Math.random())});a.loading=!1,a.results=b},500)}a.iteration=1,a.palette=a.$parent.palette,c(),a.loading=!0,a.next=function(){a.iteration++,a.loading=!0,c()}}]),ImageSearchApp.controller("SearchFutureController",["$scope","API",function(a){function b(){for(var a=[],b=0;10>b;b++)a.push({src:"img/"+Math.round(Math.ceil(5*Math.random()))+".jpg",importance:Math.round(10*Math.random())});return a}a.iteration=1,a.palette=a.$parent.palette,a.show_future=!0,a.update_future=function(){a.future=b()},a.results=b(),a.future=b(),a.next=function(){a.iteration++,a.results=b()}}]);